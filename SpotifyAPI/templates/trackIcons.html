{% macro trackIcons(songs, id, duration) -%}

<div class="spotify-icons", id="{{ id }}">
    <h2>Top Tracks  - {{ duration }}</h2>
    <div class="list">
        {% for song in songs[:8] %}
        <div class="item track-item" data-url="{{ song.external_urls['spotify'] }}" style="cursor: pointer;">
            <img src="{{ song.album.images[0]['url'] }}" alt="TrackImage">
            <h4>{{ song.name }}</h4>
            <p>{{ song.artists | map(attribute='name') | join(', ') }}</p>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".track-item").forEach(function (element) {
        element.addEventListener("click", function () {
            const url = this.getAttribute("data-url");
            window.open(url, "_blank");
            });
        });
    });
</script>

{%- endmacro %}