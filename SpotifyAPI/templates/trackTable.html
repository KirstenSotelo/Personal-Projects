{% macro trackTable(songs, id, duration) -%}
<div class="trackTable" id="{{ id }}">
    <table class="tracks">
        <thead>
            <tr class = "trackRows">
                <td class="rank">Rank</td>
                <td class="track">Track</td>
                <td class="artists">Artist</td>
                <td class="album">Album</td>
            </tr>
        </thead>
        {% for song in songs %}
            <tr class="tableItems track-item" data-url="{{ song.external_urls['spotify'] }}" style="cursor: pointer;">
                <td class="rank">{{ loop.index }}</td>
                <td class="track">{{ song.name }}</td>
                <td class="artists">{{ song.artists | map(attribute='name') | join(', ') }}</td>
                <td class="album">{{ song.album['name'] }}</td>
            </tr>
        {% endfor %}
    </table>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".track-item").forEach(function (element) {
        element.addEventListener("click", function () {
            const url = this.getAttribute("data-url");
            window.open(url, "_blank");
            });
        });
    });
</script>
{%- endmacro %}